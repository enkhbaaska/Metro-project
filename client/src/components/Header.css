/* Header.css — full file
   - Desktop mega-dropdown (two-column) for "Бидний тухай"
   - Mobile small-panel with submenu toggles
   - Montserrat font, theme variables
*/

/* Font */
@import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@600;700&display=swap');

:root {
  --banner-blue: #08335a;
  --banner-yellow: #ffd400;
  --separator: rgba(255, 255, 255, 0.18);
  --site-banner-height: 150px;
  --mobile-bp: 900px;
  --max-dropdown-width: 780px;
}

/* ---------------- Header base ---------------- */
.site-banner {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  z-index: 2200;
  width: 100%;
  background: transparent;
  box-shadow: 0 2px 8px rgba(0,0,0,0.18);
}

.site-header {
  background: #072d66;
  color: #fff;
  position: relative;
  z-index: 2300;
}

.header-top {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 1rem;
  padding: 8px 0;
  box-sizing: border-box;
  max-width: 1200px;
  margin: 0 auto;
}

/* Brand */
.brand {
  display: flex;
  align-items: center;
  gap: 0.6rem;
  text-decoration: none;
}
.brand-logo { height: 34px; width: auto; display: inline-block; }
.brand-text { color: #fff; font-weight: 700; font-family: 'Montserrat', sans-serif; }

/* header-right wrapper */
.header-right-wrapper {
  display: flex;
  align-items: center;
  gap: 0.6rem;
}

/* header-controls */
.header-controls {
  display: flex;
  align-items: center;
  gap: 0.8rem;
}

/* search & socials */
.lang-switch { display:flex; gap:0.3rem; color:#fff; font-weight:600; }
.lang-btn { background:transparent; border:none; color:#fff; cursor:pointer; font-weight:700; }
.search-form { display:flex; align-items:center; background:var(--banner-yellow); border-radius:18px; padding:3px; }
.search-input { border:0; padding:6px 10px; min-width:120px; outline:none; background:transparent; border-radius:16px; }
.search-btn { border:0; background:transparent; padding:6px 10px; cursor:pointer; font-weight:700; }
.social-links { display:flex; gap:0.4rem; }
.social-icon { min-width:30px; height:30px; border-radius:6px; background:var(--banner-yellow); color:#08335a; font-weight:800; display:inline-flex; align-items:center; justify-content:center; text-decoration:none; }

/* ---------------- Desktop banner nav ---------------- */
.banner-nav {
  position: relative;
  z-index: 2400;
  display:flex;
  justify-content:center;
  pointer-events:auto;
  margin-top:6px;
}
.banner-nav .banner-nav-inner {
  display:flex;
  gap:0;
  align-items:center;
  justify-content:center;
  width:100%;
  max-width:1200px;
  padding:0.4rem 0.6rem;
  background:var(--banner-blue);
  border-radius:6px;
  box-shadow:0 6px 18px rgba(0,0,0,0.20);
  font-family:'Montserrat', system-ui, -apple-system, "Segoe UI", Roboto, Arial;
  position: relative;
  overflow: visible; /* allow dropdown overflow */
}

/* banner links */
.banner-link {
  color: var(--banner-yellow);
  text-decoration: none;
  font-weight: 700;
  font-size: 0.98rem;
  padding: 0.6rem 1.05rem;
  display:inline-block;
}
.banner-link + .banner-link {
  border-left: 1px solid var(--separator);
  margin-left: 0.8rem;
  padding-left: 1.05rem;
}

/* keep the link stable on hover (so it doesn't create a gap) */
.banner-link:hover,
.banner-link.active {
  transform: none;
  color: #fff3b0;
  text-shadow: none;
  transition: color 150ms ease;
}

/* ---------- MEGA dropdown (anchored to trigger) ---------- */

.has-dropdown {
  position: relative;
  z-index: 2000;
  display: inline-flex; /* anchors the dropdown to the trigger */
  align-items: flex-start;
  vertical-align: top;
}

/* dropdown panel */
.has-dropdown .dropdown {
  position: absolute;
  left: 0;
  top: calc(100% + 8px);
  transform-origin: top left;
  transform: translateY(-6px);
  width: 720px;
  max-width: calc(100vw - 24px);
  border-radius: 10px;
  padding: 0;
  box-shadow: 0 10px 28px rgba(3,51,90,0.12);
  z-index: 9999;

  display: grid;
  grid-template-columns: 260px 1fr;
  gap: 0;

  /* hidden */
  opacity: 0;
  visibility: hidden;
  pointer-events: none;
  transition: opacity 140ms ease, transform 120ms ease, visibility 120ms;
}

/* visible — triggered by hover or programmatic .open */
.has-dropdown:hover > .dropdown,
.has-dropdown .dropdown.open,
.has-dropdown .dropdown:hover {
  opacity: 1;
  visibility: visible;
  transform: translateY(0);
  pointer-events: auto;
}

/* invisible overlap area to prevent hover gap */
.has-dropdown .dropdown::before {
  content: "";
  position: absolute;
  left: 0;
  top: -18px; /* overlap height, increases hit area */
  right: 0;
  height: 18px;
  pointer-events: none;
}

/* left column styling */
.dropdown-left {
  background: #eaf4ff;
  padding: 14px;
  border-top-left-radius: 10px;
  border-bottom-left-radius: 10px;
  display: flex;
  flex-direction: column;
  gap: 8px;
}

/* left items */
.dropdown-left .dropdown-link {
  background: #fff;
  color: #08335a;
  font-weight: 800;
  padding: 10px 12px;
  border-radius: 8px;
  margin-bottom: 6px;
  box-shadow: 0 2px 6px rgba(3,51,90,0.03);
  text-decoration: none;
}
.dropdown-left .dropdown-link:hover,
.dropdown-left .dropdown-link:focus {
  background: #e6f2ff;
  transform: translateX(6px);
  color: #072d66;
}

/* right column styling */
.dropdown-right {
  background: #fff;
  padding: 18px;
  border-top-right-radius: 10px;
  border-bottom-right-radius: 10px;
  display: flex;
  flex-direction: column;
  gap: 8px;
  min-height: 180px;
}

.dropdown-right-title {
  font-weight: 800;
  color: #072d66;
  margin-bottom: 8px;
  padding-bottom: 6px;
  border-bottom: 1px solid rgba(7,45,102,0.06);
}

/* right links */
.dropdown-right .dropdown-link {
  background: transparent;
  color: #08335a;
  padding: 10px 12px;
  border-radius: 6px;
  font-weight: 700;
  text-align: left;
  text-decoration: none;
}
.dropdown-right .dropdown-link:hover,
.dropdown-right .dropdown-link:focus {
  background: rgba(8,51,90,0.04);
  transform: translateX(6px);
}

/* small descriptive paragraph */
.dropdown-desc {
  color: #08335a;
  line-height: 1.45;
  margin-top: 6px;
}

/* ensure header area doesn't clip the dropdown */
.site-banner, .banner-nav, .banner-nav .banner-nav-inner {
  overflow: visible !important;
  z-index: 9000;
}

/* -------- Mobile small-panel & toggle -------- */
.mobile-dropdown-wrapper {
  display: none; /* shown in media query */
  position: relative;
  margin-left: auto;
  margin-right: auto;
}

/* toggle button */
.mobile-dropdown-toggle {
  background: var(--banner-yellow);
  border: none;
  width: 44px;
  height: 36px;
  border-radius: 8px;
  display: inline-flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 4px;
  padding: 6px 8px;
  cursor: pointer;
  box-shadow: 0 4px 12px rgba(0,0,0,0.12);
}
.mobile-dropdown-toggle:focus {
  outline: 3px solid rgba(255, 212, 0, 0.22);
  outline-offset: 2px;
}
.mobile-dropdown-toggle .md-line {
  display: block;
  width: 18px;
  height: 2px;
  background: #08335a;
  border-radius: 2px;
  box-shadow: 0 1px 0 rgba(0,0,0,0.06) inset;
}

/* mobile panel */
.mobile-dropdown-panel {
  position: absolute;
  left: 50%;
  transform: translateX(-50%) translateY(-6px);
  top: calc(100% + 8px);
  min-width: 260px;
  max-width: 680px;
  width: calc(100% - 36px);
  background: rgba(255,255,255,0.98);
  color: #08335a;
  border-radius: 10px;
  box-shadow: 0 10px 30px rgba(3, 51, 90, 0.2);
  padding: 10px;
  display: flex;
  flex-direction: column;
  gap: 8px;
  opacity: 0;
  visibility: hidden;
  pointer-events: none;
  transition: opacity 180ms ease, transform 180ms ease, visibility 0s linear 180ms;
  z-index: 2400;
  max-height: 65vh;
  overflow: auto;
}
.mobile-dropdown-panel.open {
  transform: translateX(-50%) translateY(0);
  opacity: 1;
  visibility: visible;
  pointer-events: auto;
}

/* mobile links */
.mobile-panel-link {
  display: block;
  padding: 10px 12px;
  border-radius: 8px;
  text-decoration: none;
  color: var(--banner-blue);
  font-weight: 700;
  background: transparent;
}
.mobile-panel-link:hover { background: rgba(8,51,90,0.06); }

/* mobile submenu row */
.mobile-about-row {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 8px;
  padding: 6px 4px;
}

/* mobile submenu toggle (chevron) */
.mobile-submenu-toggle {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 36px;
  height: 36px;
  border-radius: 8px;
  border: none;
  background: transparent;
  cursor: pointer;
  transition: transform 160ms ease, background 160ms;
  color: var(--banner-blue);
}
.mobile-submenu-toggle:focus {
  outline: 3px solid rgba(8,51,90,0.12);
  outline-offset: 2px;
}
.mobile-submenu-toggle svg { transition: transform 180ms ease; transform: rotate(0deg); fill: currentColor; }
.mobile-submenu-toggle.open svg { transform: rotate(90deg); }

/* mobile submenu container */
.mobile-submenu {
  display: none;
  flex-direction: column;
  gap: 4px;
  margin-bottom: 6px;
  padding-left: 6px;
  border-left: 2px solid rgba(8,51,90,0.06);
}
.mobile-submenu.open { display: flex; }

/* mobile submenu link */
.mobile-submenu-link {
  display: block;
  padding: 8px 12px;
  border-radius: 6px;
  text-decoration: none;
  color: var(--banner-blue);
  font-weight: 700;
  background: transparent;
  padding-left: 14px;
}
.mobile-submenu-link:hover { background: rgba(8,51,90,0.04); }

/* ---------------- Responsive rules (mobile breakpoint) ---------------- */
@media (max-width: 900px) {
  :root { --site-banner-height: 72px; }

  .brand-logo { display: none; }
  .header-controls { display: none; }
  .brand-text { font-size: 0.98rem; }

  /* hide desktop banner links; show mobile toggle */
  .banner-nav .banner-nav-inner > .banner-link,
  .banner-nav .banner-nav-inner > .banner-link + .banner-link {
    display: none;
  }
  .banner-nav .banner-nav-inner { padding: 8px 12px; }

  .mobile-dropdown-wrapper { display: block; }

  /* mobile panel sizing adjustments */
  .mobile-dropdown-panel {
    left: 50%;
    top: calc(100% + 6px);
    width: calc(100% - 32px);
    max-width: 680px;
    border-radius: 8px;
    padding: 8px;
  }

  /* hide mega dropdown on small screens (use mobile panel instead) */
  .has-dropdown .dropdown { display: none !important; }
}

/* ---------------- Accessibility helpers ---------------- */
.sr-only {
  position: absolute !important;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0 0 0 0);
  white-space: nowrap;
  border: 0;
}

/* reduce motion for users who prefer it */
@media (prefers-reduced-motion: reduce) {
  * { transition: none !important; animation: none !important; }
}

/* small mobile submenu group spacing / heading */
.mobile-submenu-group { margin-bottom: 8px; }
.mobile-submenu-group > .mobile-submenu-link { padding-left: 10px; }
.mobile-submenu-group > div[style] { /* the group title wrapper inlined above */ margin-bottom: 4px; }
